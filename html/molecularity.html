<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Kyle Robinson - Molecularity</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../assets/img/person.ico" rel="icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Poppins:300,400,500,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="../assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/f585aa18f8.js" crossorigin="anonymous"></script>

  <!-- Template Main CSS File -->
  <link href="../assets/css/style.css" rel="stylesheet">

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container">
      <nav id="nav-menu-container">
        <ul class="nav-menu">
          <li><a href="../#landing">Home</a></li>
          <li><a href="../#about">About Me</a></li>
          <li class="menu-active2"><a href="#main">Portfolio</a></li>
          <li><a href="../#social">Social</a></li>
          <!-- <li><a href="../#contact-form">Contact</a></li> -->
          <li><a href="../assets/Kyle Robinson CV.pdf" target="_blank">C.V.</a></li>
        </ul>
      </nav><!-- #nav-menu-container -->
    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">
      </div>
    </section>
    <!-- Breadcrumbs Section -->

    <!-- ======= Portfolio Details Section ======= -->
    <section class="portfolio-details">
      <div class="container">

        <div class="portfolio-details-container">

          <div class="owl-carousel portfolio-details-carousel">
            <img src="../assets/img/molecularity/level2_small.jpg" class="img-fluid" alt="">
            <img src="../assets/img/molecularity/level1_small.jpg" class="img-fluid" alt="">
            <img src="../assets/img/molecularity/settings_small.png" class="img-fluid" alt="">
          </div>

          <div class="portfolio-info">
            <h3>Project Information</h3>
            <ul>
              <li><strong>Language</strong>: C++</li>
              <li><strong>Graphics API</strong>: DirectX 11</li>
              <li><strong>Creation</strong>: Spring 2021</li>
              <li><strong>Source URL</strong>: <a href="https://github.com/kyle-robinson/molecularity">Github Page</a></li>
            </ul>
          </div>

        </div> <br/>

        <div class="portfolio-description">
          <h2>Group Project: Molecularity</h2>
            <p>
              Created as part of a group, Molecularity is a puzzle game, similar in nature to Portal, that was developed entirely with C++ and DirectX 11, for a module at university in the Spring of my second year. <strong><i>The goal of the game is to utilize the provided multi-tool and all of its in-built functions to manipulate and modify the physical properties of objects within each room.</i></strong><br><br>The player is given the ability to change the material, weight, size, bounciness, conductivity etc. of select objects. In doing this, they are tasked with activating a pressure plate in each level which serves as the win condition. The underlying engine utilizes a variety of systems that were developed across the members of the group while adhering to standard programming practices.
            </p>
              <div class="iframe-container">
                <div style="padding:54.27% 0 0 0;position:relative;">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/KutHfQ_kYmE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
              </div> <br/>
          <h2 style="font-size:20px">Roles & Responsibilities</h2>
            <p>
              Within the group, I took on the role of <strong>lead programmer</strong> and was in charge of overseeing the development of all of the systems within the game engine, and ensuring that they adhered to standard programming practices and patterns. Further, I outlaid the design of the system architecture according to a series of deliverables that would be distributed to each group member, myself included, according to what best suited our interests and expertise.<br><br>As my area of expertise lies with <strong>graphics programming</strong>, I opted to develop all of the graphics systems that are used throughout the game. For assigning tasks, Trello was used throughout the game's development. To see how these tasks were distributed, our personal Trello board can be found <a href="https://trello.com/b/V0FSI5Hy/molecularity-progress-board">here</a>.
              <br/><br/>
              For managing the source code, GitHub's <strong>source control</strong> was the primary tool that we used. This enabled us to create local branches of the main codebase, without affecting the work of other group members. I initially developed a bare-bones system using Win32 for message processing which allowed everyone to start developing their systems after creating a local branch of the source code.<br><br>GitHub proved extremely useful in the development of these new systems as it allowed each team member to view what everyone else was working on. This was especially true when it came to debugging. Once a team member was satisfied with their work, they would submit a pull request which I would always personally verify, to ensure that there were no conflicts with the existing code, before committing it to the master branch. All the pull requests made throughout the development of the game can be found <a href="https://github.com/kyle-robinson/molecularity/pulls?q=is%3Apr+is%3Aclosed">here</a>.
            </p>
          <h2 style="font-size:20px">Idea Generation</h2>
            <p>
              To begin laying the groundwork, we began with a team meeting to decide the type and style of game that we wanted to create: a <strong>futuristic puzzle game</strong> seemed to be unanimous. To further develop this idea, I assigned weekly research tasks to each team member concerning different aspects of the game; art, sound, mechanics, models and UI. Each week, we would share our findings and commit this research to a <a href="../assets/docs/Molecularity Design Documentation.pdf", target="_blank">design document</a>. We would draw influence from existing game implementations as we saw fit, where the art style and the multi-tool were derived from Portal. We then created an <a href="../assets/docs/Molecularity Initial Presentation.pdf", target="_blank">initial design presentation</a> that shared our thoughts and ideas of the game to be developed.
            </p>
          <h2 style="font-size:20px">The Development Process</h2>
            <p>
              The development process began with a bare-bones Win32 system that created a simple window with minimal graphics. After developing this system for the first two weeks, and using team meetings solely to discuss the game idea, I then assigned individual roles to develop specific parts of the game engine. Initially, these systems were coupled with the graphics engine, and after some time a better solution was implemented: an <strong>event system</strong>, to better decouple the various systems and to allow for easier branching and development as outlined <a href="https://gameprogrammingpatterns.com/event-queue.html">here<a>. The general layout for the event system that was implemented is as shown below.

              <pre class="prettyprint">
class EventSystem
{
public:
	void AddClient( EVENTID eventid, Listener* client ); // Registers client to specific event
	bool IsRegistered( EVENTID eventid, Listener* client ); // Checks if the client in question is already in the system

        void RemoveClient( EVENTID eventid, Listener* client ); // Unregisters client from a specific event
	void RemoveAll( Listener* client ); // Unregisters client from all events

	void SendEvents( Event* event ); // Sends the event to anyone registered
	void AddEvent( EVENTID eventid, void* data = 0 ); // Add event to the buffer
	void ProcessEvents(); // Process All events

	void ClearBuffer(); // Clears all events from the buffer
	void ClearClients(); // Clears all clients from the client list
	void Shutdown(); // Shutdown event system

	static EventSystem* Instance(); // Returns the event system
private:
	EventSystem() {};
	~EventSystem() { this->Shutdown(); }

	std::multimap<EVENTID, Listener*> clients; // Contains all clients and their subscribed events
	std::list<Event> eventsList; // List of events to process
};</pre>

              The event system enabled us to better focus on the development of our systems without the worry of how they would integrate into the rest of the game engine. Instead, we were able to modify code and submit pull requests to the master branch with minimal conflicts due to the now decoupled nature of the codebase. Using this, I was able to better implement the lighting, fog, stencil, post-processing and multi-viewport systems.<br><br>One final problem remained with the way that levels were being handled. To better manage switching between and loading levels, I opted to integrate a level state machine, according to the following <a href="https://thatgamesguy.co.uk/cpp-game-dev-6/">article</a> which can be seen below.

              <br><br>
              <pre class="prettyprint">
class LevelStateMachine
{
public:
	LevelStateMachine();
	void Render();
	void Update( const float dt );

	std::shared_ptr<LevelContainer> GetCurrentLevel() const noexcept { return currentLevel; } // Get a handle to the current active level
	uint32_t Add( std::shared_ptr<LevelContainer> level ); // Add another level to the state machine
	void Remove( uint32_t id ); // Removes a level from the state machine
	void SwitchTo( uint32_t id ); // Switch to an already existing level
private:
	uint32_t insertedLevelID;
	std::shared_ptr<LevelContainer> currentLevel;
	std::unordered_map<uint32_t, std::shared_ptr<LevelContainer>> levels; // Stores all of the registered levels
};</pre>

              <strong>Multi-threading</strong> was then implemented to improve the transition times between levels, as the loading of new levels would be offloaded to a separate thread, and only for the level that is to be switched to. This addition drastically helped in the creation of new levels, as we were able to quickly switch between the levels on the fly in-engine, and check for any inconsistencies, bugs or exploits. A <a href="../assets/docs/Molecularity Development Diary.pdf", target="_blank">development diary</a> was updated throughout the development process to document the weekly additions to the game.
            </p>
          <h2 style="font-size:20px">Final Thoughts</h2>
            <p>
              I believe my team and I worked well together. We were able to cooperate on the game's development and focus on our parts of the engine when required. Group discussions were also really involved and often resulted in a lot of new ideas for potential mechanics and systems to be added into the game. the team respected my decisions on the game's direction, the engine architecture, the responsibilities that I would assign them and the deadlines that I would set for any given task. They also trusted me to verify each pull request and would often ask for advice on parts of the engine that they were unsure of.
              <br><br>
              Given that our team was able to complete the majority of the set deliverables, we completed the project with enough time before the final deadline to complete further bug tests. A <a href="../assets/docs/Molecularity Final Presentation.pdf", target="_blank">final presentation</a> with a complimentary video was created and feedback provided by industry professionals. Overall, it was a really enjoyable experience and I learned a lot, not just about programming, but also project management and working as part of a team.
            </p>

            <br/><h2 style="font-size:20px">Feel free to drop a comment below.</h2>
            <div id="disqus_thread"></div> <br/>
            <script>

            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

            var disqus_config = function () {
              this.page.url = 'https://kyle-robinson.co.uk/html/directx-engine';  // Replace PAGE_URL with your page's canonical URL variable
              this.page.identifier = 11; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };

            (function() { // DON'T EDIT BELOW THIS LINE
              var d = document, s = d.createElement('script');
              s.src = 'https://https-kyle-robinson-co-uk.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <script id="dsq-count-scr" src="//https-kyle-robinson-co-uk.disqus.com/count.js" async></script>

        </div>
      </div>
    </section><!-- End Portfolio Details Section -->

  </main><!-- End #main -->

  <!-- ======= Contact Section ======= -->
  <section id="contact">
    <div class="social-links" style="margin-top:-55px;">
      <a href="https://github.com/kyle-robinson" class="github" target="_blank"><i class="fa fa-github"></i></a> &nbsp;
      <a href="https://www.linkedin.com/in/kylerobinsongames/" class="linkedin" target="_blank"><i class="fa fa-linkedin"></i></a> &nbsp;
      <a href="https://www.hackerrank.com/kylerobinson456?hr_r=1" class="hackerrank" target="_blank"><i class="fab fa-hackerrank"></i></a> &nbsp;
      <a href="https://twitter.com/KyleRobinson42" class="twitter"><i class="fa fa-twitter" target="_blank"></i></a> &nbsp;
      <a href="https://www.youtube.com/@kylerobinsongames" class="youtube" target="_blank"><i class="fa fa-youtube"></i></a> &nbsp;
    </div>
  </section><!-- End Contact Section -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="credits">
        &copy; KYLE <span style="color:#ff9d00">ROBINSON</span> | PORTFOLIO
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="../assets/vendor/jquery/jquery.min.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>
  <script src="../assets/vendor/counterup/counterup.min.js"></script>
  <script src="../assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../assets/vendor/superfish/superfish.min.js"></script>
  <script src="../assets/vendor/hoverIntent/hoverIntent.js"></script>
  <script src="../assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="../assets/vendor/venobox/venobox.min.js"></script>
  <script src="../assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="../assets/js/main.js"></script>

</body>

</html>
